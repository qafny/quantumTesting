{
  "circuit_name": "excitation_preserving_ExcitationPreserving",
  "class_name": "ExcitationPreserving",
  "module": "qiskit.circuit.library.n_local.excitation_preserving",
  "description": "The heuristic excitation-preserving wave function ansatz.\n\n    The ``ExcitationPreserving`` circuit preserves the ratio of :math:`|00\\rangle`,\n    :math:`|01\\rangle + |10\\rangle` and :math:`|11\\rangle` states. To this end, this circuit\n    uses two-qubit interactions of the form\n\n    .. math::\n\n        \\newcommand{\\rotationangle}{\\theta/2}\n\n        \\begin{pmatrix}\n        1 & 0 & 0 & 0 \\\\\n        0 & \\cos\\left(\\rotationangle\\right) & -i\\sin\\left(\\rotationangle\\right) & 0 \\\\\n        0 & -i\\sin\\left(\\rotationangle\\right) & \\cos\\left(\\rotationangle\\right) & 0 \\\\\n        0 & 0 & 0 & e^{-i\\phi}\n        \\end{pmatrix}\n\n    for the mode ``'fsim'`` or with :math:`e^{-i\\phi} = 1` for the mode ``'iswap'``.\n\n    Note that other wave functions, such as UCC-ansatzes, are also excitation preserving.\n    However these can become complex quickly, while this heuristically motivated circuit follows\n    a simpler pattern.\n\n    This trial wave function consists of layers of :math:`Z` rotations with 2-qubit entanglements.\n    The entangling is creating using :math:`XX+YY` rotations and optionally a controlled-phase\n    gate for the mode ``'fsim'``.\n\n    See :class:`~qiskit.circuit.library.RealAmplitudes` for more detail on the possible arguments\n    and options such as skipping unentanglement qubits, which apply here too.\n\n    The rotations of the ExcitationPreserving ansatz can be written as\n\n    Examples:\n\n        >>> ansatz = ExcitationPreserving(3, reps=1, insert_barriers=True, entanglement='linear')\n        >>> print(ansatz.decompose())  # show the circuit\n             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2591 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                             \u2591 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        q_0: \u2524 RZ(\u03b8[0]) \u251c\u2500\u2591\u2500\u25240           \u251c\u25240           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2591\u2500\u2524 RZ(\u03b8[5]) \u251c\n             \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2591 \u2502  RXX(\u03b8[3]) \u2502\u2502  RYY(\u03b8[3]) \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2591 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n        q_1: \u2524 RZ(\u03b8[1]) \u251c\u2500\u2591\u2500\u25241           \u251c\u25241           \u251c\u25240           \u251c\u25240           \u251c\u2500\u2591\u2500\u2524 RZ(\u03b8[6]) \u251c\n             \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2591 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502  RXX(\u03b8[4]) \u2502\u2502  RYY(\u03b8[4]) \u2502 \u2591 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n        q_2: \u2524 RZ(\u03b8[2]) \u251c\u2500\u2591\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25241           \u251c\u25241           \u251c\u2500\u2591\u2500\u2524 RZ(\u03b8[7]) \u251c\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2591                             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2591 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n        >>> ansatz = ExcitationPreserving(2, reps=1, flatten=True)\n        >>> qc = QuantumCircuit(2)  # create a circuit and append the RY variational form\n        >>> qc.cry(0.2, 0, 1)  # do some previous operation\n        >>> qc.compose(ansatz, inplace=True)  # add the excitation-preserving\n        >>> qc.draw()\n                        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        q_0: \u2500\u2500\u2500\u2500\u2500\u25a0\u2500\u2500\u2500\u2500\u2500\u2524 RZ(\u03b8[0]) \u251c\u25240           \u251c\u25240           \u251c\u2524 RZ(\u03b8[3]) \u251c\n             \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\u2502  RXX(\u03b8[2]) \u2502\u2502  RYY(\u03b8[2]) \u2502\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n        q_1: \u2524 RY(0.2) \u251c\u2524 RZ(\u03b8[1]) \u251c\u25241           \u251c\u25241           \u251c\u2524 RZ(\u03b8[4]) \u251c\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n        >>> ansatz = ExcitationPreserving(3, reps=1, mode='fsim', entanglement=[[0,2]],\n        ... insert_barriers=True, flatten=True)\n        >>> print(ansatz.decompose())\n             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2591 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2591 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        q_0: \u2524 RZ(\u03b8[0]) \u251c\u2500\u2591\u2500\u25240           \u251c\u25240           \u251c\u2500\u25a0\u2500\u2500\u2500\u2500\u2500\u2500\u2591\u2500\u2524 RZ(\u03b8[5]) \u251c\n             \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2591 \u2502            \u2502\u2502            \u2502 \u2502      \u2591 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n        q_1: \u2524 RZ(\u03b8[1]) \u251c\u2500\u2591\u2500\u2524  RXX(\u03b8[3]) \u251c\u2524  RYY(\u03b8[3]) \u251c\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2591\u2500\u2524 RZ(\u03b8[6]) \u251c\n             \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2591 \u2502            \u2502\u2502            \u2502 \u2502\u03b8[4]  \u2591 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n        q_2: \u2524 RZ(\u03b8[2]) \u251c\u2500\u2591\u2500\u25241           \u251c\u25241           \u251c\u2500\u25a0\u2500\u2500\u2500\u2500\u2500\u2500\u2591\u2500\u2524 RZ(\u03b8[7]) \u251c\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2591 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2591 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n    .. seealso::\n\n        The :func:`.excitation_preserving` function constructs a functionally equivalent circuit,\n        but faster.\n\n    ",
  "num_qubits": 3,
  "num_clbits": 0,
  "specification": "\nCircuit: excitation_preserving_ExcitationPreserving\nQubits: 3\nClassical bits: 0\nDepth: 1\nSize: 1\n\nExpected Behavior:\n- Circuit should compile to XMLProgrammer AST without errors\n- AST should be valid according to SimulatorValidator\n- Simulator should execute without runtime errors\n- Output state should be consistent with circuit semantics\n",
  "expected_behavior": "Circuit-specific quantum operation"
}